<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="1909" MadCap:lastWidth="802" class="">
    <head><title></title>
        <link rel="stylesheet" href="XModProHelp.css" type="text/css" />
    </head>
    <body>
        <h1 xmlns="">Data Parameter Tokens</h1><a name="top" xmlns=""></a>
        <p class="Nav" xmlns=""><a href="#syntax">Syntax</a>&#160;<a href="#remarks">Remarks</a>&#160;<a href="#example">Example</a></p>
        <p xmlns=""> Tokens are the mechanism used to display OUTPUT and standard parameter values from your datasource in your templates.  At run-time, XMod Pro will replace that token with the value stored in that parameter. <br xmlns="http://www.w3.org/1999/xhtml" /></p>
        <p xmlns="">There are some additional usage rules you'll need to adhere to. They are described in the Remarks section. </p><a name="syntax" xmlns=""></a>
        <h2 xmlns="">Syntax</h2>
        <div xmlns=""><code><span style="font-size: 9pt;">[[TemplateID_list@ParameterName]]</span><br style="font-size: 9pt;font-family: Verdana;" /><span style="font-size: 9pt;">[[TemplateID_detail@ParameterName]]</span></code>
            <br />
        </div>&#160;
    
<a name="remarks" xmlns=""></a><h2 xmlns="">Remarks</h2><ul xmlns=""><li><li xmlns="http://www.w3.org/1999/xhtml"><b xmlns="http://www.w3.org/1999/xhtml">Forming Your Parameter Token</b>: The token is formed by combining the ID of your <code xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">&lt;xmod:Template&gt;</code> tag, some text that identifies if the parameter is from the ListDataSource (<code xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">_list</code>) or DetailDataSource (<code xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">_detail</code>), the @ symbol and finally the name of the parameter. <br xmlns="http://www.w3.org/1999/xhtml" /><br xmlns="http://www.w3.org/1999/xhtml" />So, if your <code xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">&lt;xmod:Template&gt;</code>&#160;has an ID of "MyTemplate" and you want to use the value of the parameter "MyParam" in the <code xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">&lt;ListDataSource&gt;</code> tag, your token would look like this:<br xmlns="http://www.w3.org/1999/xhtml" /><br xmlns="http://www.w3.org/1999/xhtml" /><code xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">[[MyTemplate_list@MyParam]]</code><br xmlns="http://www.w3.org/1999/xhtml" />&#160;<br xmlns="http://www.w3.org/1999/xhtml" /><b>All components of the token are required</b>: The template's ID, the "_list" or "_detail", the "@" symbol, and the parameter's name.<br xmlns="http://www.w3.org/1999/xhtml" /><br xmlns="http://www.w3.org/1999/xhtml" /></li></li><li xmlns="http://www.w3.org/1999/xhtml"><li xmlns="http://www.w3.org/1999/xhtml"><b>Tokens Are Not Case-Sensitive</b>: <br /><code style="font-size: 9pt;">[[MyTemplate_list@MyParam]]</code><br style="mc-tag-and-class: code;font-size: 9pt;" /><code style="font-size: 9pt;">[[mytemplate_list@MyParam]]</code><br style="mc-tag-and-class: code;font-size: 9pt;" /><code style="font-size: 9pt;">[[mytemplate_List@myparam]]</code><br />All of the above are equivalent.<br />&#160;</li><b xmlns="http://www.w3.org/1999/xhtml">Valid in Templates Only</b>. Currently, use of parameters is limited to the <code style="font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">&lt;ListDataSource&gt;</code> and <code style="font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">&lt;DetailDataSource&gt;</code> tags in templates. Within <span style="font-family: monospace;">&lt;xmod:Template&gt;</span> tags, you can use these Data Parameter tokens inside the following tags:<ul xmlns="http://www.w3.org/1999/xhtml"><li style="font-size: 9pt;"><code style="font-size: 9pt;">&lt;HeaderTemplate&gt;</code></li><li style="font-size: 9pt;"><code style="font-size: 9pt;">&lt;ItemTemplate&gt;</code></li><li style="font-size: 9pt;"><code style="font-size: 9pt;">&lt;AlternatingItemTemplate&gt;</code></li><li style="font-size: 9pt;"><code style="font-size: 9pt;">&lt;FooterTemplate&gt;</code></li><li style="font-size: 9pt;"><code style="font-size: 9pt;">&lt;DetailTemplate&gt;</code></li><li style="font-size: 9pt;"><code style="font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">&lt;NoItemsTemplate&gt;</code><br xmlns="http://www.w3.org/1999/xhtml" /><br xmlns="http://www.w3.org/1999/xhtml" /></li></ul></li><li xmlns="http://www.w3.org/1999/xhtml"><b>Only Available Within Current Template</b>: You cannot use parameter tokens to display data from other templates. Likewise you cannot use parameter tokens for the ListDataSource in the DetailTemplate and DetailDataSource parameters cannot be used in the components the list view (Header/Item/AlternatingItem/Footer templates). While no error will be thrown, no data will be returned. <br /><br />There is one exception: You can use parameter values from the <code style="font-size: 9pt;">&lt;ListDataSource&gt;</code> and <code style="font-size: 9pt;">&lt;DetailDataSource&gt;</code>&#160;in the <code style="font-size: 9pt;">&lt;NoItemsTemplate&gt;</code> tag. The value returned will depend on which data source has no items. So, if you click a button to show the details of the record and the record is not found, <code style="font-size: 9pt;">&lt;DetailDataSource&gt;</code> parameters will be accessible and <code style="font-size: 9pt;">&lt;ListDataSource&gt;</code> parameters will not. The reverse holds true if no records are returned for the <code style="font-size: 9pt;">&lt;ListDataSource&gt;</code>.<br />&#160;</li><li><b>Standard Token Usage Rules</b>:<ul xmlns=""><li>Tokens must begin with double-brackets  (<CODE style="font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">[[</CODE>) and end with double-brackets (<CODE xmlns="http://www.w3.org/1999/xhtml">]]</CODE>)</li><li>Tokens can be used as the value of an HTML&#160;attribute or in standard text. For example:<br /><CODE style="font-size: 9pt;">&lt;img src="[[Employees_list@PictureUrl]]" align="left" /&gt; &lt;strong&gt;[[Employees_list@UserFullName]]&lt;/strong&gt;</CODE></li><li xmlns="http://www.w3.org/1999/xhtml">In many cases, tokens can also be used as the attribute value for an XMod Pro tag. However, when using them in this manner, you MUST delimit the attribute value with single quotes, <b xmlns="http://www.w3.org/1999/xhtml">not</b> double quotes. For example:<br xmlns="http://www.w3.org/1999/xhtml" /><b>CORRECT</b>: <CODE xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">&lt;xmod:DetailButton Text=</CODE><CODE style="color: #ff0000; font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">'</CODE><CODE xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">[[Employees_list@UserFullName]]</CODE><CODE style="color: #ff0000; font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">'</CODE><CODE xmlns="http://www.w3.org/1999/xhtml"> /&gt;</CODE><br xmlns="http://www.w3.org/1999/xhtml" />INCORRECT: <CODE xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">&lt;xmod:DetailButton Text=</CODE><CODE style="color: #ff0000; font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">"</CODE><CODE xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">[[Employees_list@UserFullName]]</CODE><CODE style="color: #ff0000; font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">"</CODE><CODE xmlns="http://www.w3.org/1999/xhtml"> /&gt;</CODE></li></ul></li></ul><p xmlns="">&#160;</p><ul xmlns="">&#160;</ul><a href="#top" class="link" xmlns="">Back to top</a><a name="example" xmlns=""></a><h2 xmlns="">Example</h2><div xmlns=""><code><b style="font-size: 10pt;">Stored Procedure in the Database:</b><br /><br />01: CREATE PROCEDURE GetEmployeesByDepartment<br />02:&#160;&#160;@DepartmentId int, <br />03:&#160;&#160;<span style="color: #ff0000;">@DepartmentName nvarchar(100) OUTPUT</span><br />04: AS<br />05: BEGIN<br />06:&#160;&#160;<span style="color: #ff0000;">SELECT @DepartmentName = Name FROM Departments WHERE ID = @DepartmentId</span><br />07:&#160;&#160;SELECT DisplayName, Address1, Address2, City, State, Zip <br />08:&#160;&#160;&#160;&#160;FROM Employees <br />09:&#160;&#160;&#160;&#160;WHERE DepartmentId = @DepartmentId<br />10: END<br /><br /><b style="font-size: 10pt;">Template Definition:</b><br /><br />01:&lt;</code><code>xmod:Template Id="Employees"&gt;<br />02:&#160;&#160;&lt;ListDataSource CommandText="GetEmployeesByDepartment"<br />&#160;&#160;&#160; &#160;&#160;&#160;CommandType="StoredProcedure"&gt;<br />03:&#160;&#160;&#160;&#160;&lt;parameter name="DepartmentId" value="32" /&gt;<br />04:&#160;&#160;&#160;&#160;<span style="color: #ff0000;">&lt;parameter name="DepartmentName" direction="Output" datatype="string"<br />&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;size="100" /&gt;</span><br />05:&#160;&#160;&lt;/ListDataSource&gt;<br />06:&#160;&#160;&lt;HeaderTemplate&gt;<br />07:&#160;&#160;&#160;&#160;&lt;h1&gt;Employees in <span style="color: #ff0000;">[[Employees_list@DepartmentName]]</span> Department&lt;/h1&gt;<br />08:&#160;&#160;&lt;/HeaderTemplate&gt;<br />09:&#160;&#160;&lt;ItemTemplate&gt;<br />10:&#160;&#160;&#160;&#160;&lt;strong&gt;Full Name: [[DisplayName]]&lt;br /&gt;<br />11:&#160;&#160;&#160;&#160;&lt;strong&gt;Address: [[Address1]]&lt;br /&gt;<br />12:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[[Address2]]&lt;br /&gt;<br />13:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[[City]], [[State]] [[Zip]]&lt;br /&gt;<br />14:&#160;&#160;&lt;/ItemTemplate&gt;<br />15:&#160;&#160;...<br />16:&#160;&#160;&lt;NoItemsTemplate&gt;<br />17:&#160;&#160;&#160;&#160;No employees listed in the <span style="color: #ff0000;">[[Employees_list@DepartmentName]]</span> department<br xmlns="http://www.w3.org/1999/xhtml" />18: &#160;&lt;/NoItemsTemplate&gt;<br />19:&lt;/xmod:Template&gt;</code></div><p xmlns="">In the example above, we've created a stored procedure in the database. This stored procedure's main purpose is to return all the employees in a particular department of the company. Additionally, it declares (line #3) and fills an OUTPUT parameter with the name of the department for use by our template (line #6).</p><p xmlns="">In the template definition, we use the name as the stored procedure as the CommandText, and specify "StoredProcedure" as the CommandType. This is a critical step if you are going to use OUTPUT&#160;parameters. (Line #2)</p><p xmlns="">Next, in addition to the DepartmentId parameter (line 3), we've defined a second parameter for the OUTPUT parameter (line 4). This must be the same name as that identified in the stored procedure (DepartmentName in our example). You must also define the Direction attribute with a value of Output. It is good practice to also define the DataType attribute with the appropriate datatype that will be returned (String in this case, which handles all textual values - for an "int"&#160;database data type, you might use Int32 or Int64 as the DataType). Finally, since this is textual data, it is required that we specify the Size of the parameter. If not Size is specified, an error will be thrown. It is good practice to match the Size specified in our stored procedure (100), but it is legal to specify a larger or smaller number. If you specify a smaller number and the returned value exceeds that length, the value will be truncated.</p><p xmlns="">Finally, we can use the parameter in our template. In this example, we've placed it in the Header (line 7), to display the department's name above the list of employees. We've also placed it in the <code style="font-size: 9pt;">&lt;NoItemsTemplate&gt;</code> to provide a more user-friendly message if no records are found (line 17). It would also be legal to place the parameter token in the <code style="font-size: 9pt;">&lt;ItemTemplate&gt;</code> and <code style="font-size: 9pt;">&lt;AlternatingItemTemplate&gt;</code> to display with each record. as well as the <code style="font-size: 9pt;">&lt;FooterTemplate&gt;</code>.</p><p xmlns="">&#160;</p><a href="#top" xmlns="">Back to top</a></body>
</html>