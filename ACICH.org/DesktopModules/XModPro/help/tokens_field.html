<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="6" MadCap:lastHeight="1424" MadCap:lastWidth="1384" class="">
    <head><title></title>
        <link rel="stylesheet" href="XModProHelp.css" type="text/css" />
    </head>
    <body>
        <h1>Field Tokens</h1><a name="top"></a>
        <p class="Nav"><a href="#syntax">Syntax</a>&#160;<a href="#remarks">Remarks</a>&#160;<a href="#example">Example</a></p>
        <p xmlns=""><b>For Templates</b>
        </p>
        <p xmlns="">Field Tokens are the mechanism used to display values from your datasource in your templates. If you've used XMod, then you can think of field tokens as the replacement for the old <CODE style="font-size: 9pt;">&lt;xmod:Field&gt;</CODE> tag. The token syntax is much simpler. Simply start with two open brackets (<CODE style="font-size: 9pt;">[[</CODE>) followed by the exact name of the field you want to display (this is case-sensitive) and then follow that with two closing brackets (<CODE style="font-size: 9pt;">]]</CODE>). At run-time, XMod Pro will replace that token with the value from that field for each record. There are some usage rules you'll need follow. They are described in the Remarks section.</p>
        <p xmlns=""><b>For Forms</b>
        </p>
        <p xmlns="">Beginning in version 1.3, you can also use Field Tokens in the attributes of your form's controls to provide a more dynamic form experience. In this context, Field Tokens retrieve data from the <span style="font-family: monospace;" xmlns="http://www.w3.org/1999/xhtml">&lt;SelectCommand&gt;</span>. </p>
        <p xmlns="">There are some usage rules you'll need to adhere to. They are described in the Remarks section. </p><a name="syntax"></a>
        <h2>Syntax</h2>
        <div xmlns=""><span style="font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">[[</span><i style="font-size: 9pt;">fieldName</i><span style="font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">]]</span>
        </div>&#160;
    
<a name="remarks"></a><h2>Remarks</h2><ul xmlns=""><li xmlns="http://www.w3.org/1999/xhtml"><b>Valid in Templates and Form Controls</b>. Beginning with version 1.3, Field tokens can be used in forms as well as templates. Within form controls, they render values returned in the <span style="font-family: monospace;">&lt;SelectCommand&gt;</span> in much the same way the field tokens in templates retrieve values from the <span style="font-family: monospace;">&lt;ListDataSource&gt;</span> or <span style="font-family: monospace;">&lt;DetailDataSource&gt;</span> commands.<br />&#160;</li><li xmlns="http://www.w3.org/1999/xhtml"><b>Usage In Forms</b>: Form Field Tokens will retrieve different data depending on the context in which they are used. <br /><br /><b>Initializing the Form</b>:&#160;When a form first loads, it will execute the <span style="font-family: monospace;">&lt;SelectCommand&gt;</span>. Normally this data is bound to your form controls (the Text property of a TextBox, for instance) using the "DataField" attribute. All of the other attributes of the control are hard-coded. Beginning in version 1.3, if you want to use that data to set control properties, you can use the [[Field]] token syntax.<br /><br /><b>Form Results</b>: When a user submits a form, the data they enter is sent to your <span style="font-family: monospace;">&lt;SubmitCommand&gt;</span> so that it can be saved to the database. You can use [[Field]] token syntax to use that data to 1) Customize emails that are sent; 2) Display a custom form-submission acknowledgement (via the <span style="font-family: monospace;">&lt;AddSuccessTemplate&gt;</span> and <span style="font-family: monospace;">&lt;EditSuccessTemplate&gt;</span> tags); or 3) Dynamically redirect the user to a custom URL (via the command button tags like AddButton, CancelLink, UpdateImage, UpdateButton, etc.). <br /><br />So, while the two token types share the same syntax, they operate on different data depending on the context in which they are used.  <br /><br />Additionally, <b>some control properties may not be set with field tokens</b>. Some properties, particularly color-and some font-related properties, perform internal conversions when they are set. This conversion happens before the controls are bound to the SelectCommand data. In most of these cases, you can still achieve the desired result by using the CssClass property and setting the visual aspects of the control there - or by using the Style property. For example:<br /><br /><code style="font-size: 9pt;">&lt;SelectCommand CommandText="SELECT 'White' AS FColor, 'Blue' AS BColor" /&gt;</code><br style="mc-tag-and-class: code;" /><code style="font-size: 9pt;">&lt;TextBox id="MyText" ForeColor='[[FColor]]' BackColor='[[BColor]]' /&gt;</code><br /><br />The above example will throw an error. You can change this to use the Style property and Join() function, though, and achieve the same results:<br /><br /><code><span style="font-size: 9pt;">&lt;TextBox id="MyText" Style='[[Join("color:</span><span style="color: #ff0000;"><span style="font-size: 9pt;">{0}</span></span><span style="font-size: 9pt;">;background-color:</span><span style="color: #0000cd;"><span style="font-size: 9pt;">{1}</span></span><span style="font-size: 9pt;">", </span><span style="color: #ff0000;"><span style="font-size: 9pt;">[[FColor]]</span></span><span style="font-size: 9pt;">,</span><span style="color: #0000cd;"><span style="font-size: 9pt;">[[BColor]]</span></span><span style="font-size: 9pt;">)]]' /&gt;</span></code><br /><br />All we're doing in the above example is creating using the Join() function and form field tokens to do a basic substituation. At run-time, the {0} will be replaced with the value of [[FColor]] and {1} will be replaced with [[BColor]]. The result is this: <code style="font-size: 9pt;">Style="color:White;background-color:Red;"</code><br /><br /></li><li style="text-align: left;" xmlns="http://www.w3.org/1999/xhtml"><b>Usage In Templates</b>: For templates, since field tokens retrieve data from each record, they cannot be used in areas of your template that aren't associated with a record. For instance, you cannot use field tokens in the <CODE style="font-size: 9pt;">&lt;HeaderTemplate&gt;</CODE>, <CODE style="font-size: 9pt;">&lt;FooterTemplate&gt;</CODE>, or <CODE style="font-size: 9pt;">&lt;NoItemsTemplate&gt;</CODE> sections. You can use them in <CODE style="font-size: 9pt;">&lt;ItemTemplate&gt;</CODE> and <CODE style="font-size: 9pt;">&lt;AlternatingItemTemplate&gt;</CODE> sections though.<br />&#160;<br /></li><li><b>Standard Token Usage Rules</b>:<ul xmlns=""><li>Tokens must begin with double-brackets (<CODE style="font-size: 9pt;">[[</CODE>) and end with double- brackets (<CODE style="font-size: 9pt;">]]</CODE>)</li><li>Tokens can be used as the value of an HTML&#160;attribute or in standard text. For example:<br /><CODE style="font-size: 9pt;">&lt;img src="[[PictureUrl]]" align="left" /&gt; &lt;strong&gt;[[UserFullName]]&lt;/strong&gt;</CODE></li><li>In many cases, tokens can also be used as the attribute value for an XMod Pro tag. However, when using them in this manner, you MUST delimit the attribute value with single quotes, not double quotes. For example:<br xmlns="http://www.w3.org/1999/xhtml" /><b xmlns="http://www.w3.org/1999/xhtml">CORRECT</b>: <CODE xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">&lt;xmod:DetailButton Text=</CODE><CODE style="color: #ff0000; font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">'</CODE><CODE xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">[[Employees_list@UserFullName]]</CODE><CODE style="color: #ff0000; font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">'</CODE><CODE xmlns="http://www.w3.org/1999/xhtml"> /&gt;</CODE><br xmlns="http://www.w3.org/1999/xhtml" />INCORRECT: <CODE xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">&lt;xmod:DetailButton Text=</CODE><CODE style="color: #ff0000; font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">"</CODE><CODE xmlns="http://www.w3.org/1999/xhtml" style="font-size: 9pt;">[[Employees_list@UserFullName]]</CODE><CODE style="color: #ff0000; font-size: 9pt;" xmlns="http://www.w3.org/1999/xhtml">"</CODE><CODE xmlns="http://www.w3.org/1999/xhtml"> /&gt;</CODE></li></ul></li></ul><p xmlns="">&#160;</p><a href="#top" class="link">Back to top</a> <![CDATA[ ]]><a name="example"></a><h2>Example</h2><div xmlns=""><code xmlns="http://www.w3.org/1999/xhtml"><b style="font-size: 9pt;">Using Field Tokens in a Template</b><br /><br />&lt;</code><code xmlns="http://www.w3.org/1999/xhtml">xmod:Template&gt;<br />&#160;&#160;...<br />&#160;&#160;&lt;HeaderTemplate&gt;<br />&#160;&#160;&#160;&#160;&lt;h1&gt;Users&lt;/h1&gt;<br />&#160;&#160;&lt;/HeaderTemplate&gt;<br />&#160;&#160;&lt;ItemTemplate&gt;<br />&#160;&#160;&#160;&#160;&lt;strong&gt;Full Name: [[DisplayName]]&lt;br /&gt;<br />&#160;&#160;&#160;&#160;&lt;strong&gt;Address: [[Address1]]&lt;br /&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[[Address2]]&lt;br /&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[[City]], [[State]] [[Zip]]&lt;br /&gt;<br />&#160;&#160;&lt;/ItemTemplate&gt;<br />&#160;&#160;...<br />&lt;/xmod:Template&gt;<br /><br /><b style="font-size: 9pt;">Using Field Tokens in a Form Control</b><br />This example gets the amount of inventory (StockOnHand) left for the given product and uses that to limit the maximum quantity that can be ordered using the range validator.<br /><br />&lt;AddForm&gt;<br />&#160;&#160;&lt;SelectCommand CommandText="SELECT StockOnHand FROM Inventory WHERE ProductId = @ProductId"&gt;<br />&#160;&#160;&lt;parameter name="ProductId" value='[[Url:ProductId]]' /&gt;<br />&#160;&#160;&lt;/SelectCommand&gt;
<br />&#160;&#160;...<br />&#160;&#160;&lt;Label For="txtQuantity" Text="Quantity to Order:" /&gt;<br />&#160;&#160;&lt;TextBox Id="txtQuantity" DataField="Quantity" DdataType="int32" /&gt;<br />&#160;&#160;&lt;Validate Type="range" Target="txtQuantity" MinimumValue="1" MaximumValue='[[StockOnHand]]' <br />Message='[[Join("You must enter a value between 1 and {0}",[[StockOnHand]]'/&gt;<br />&#160;&#160;...<br />&lt;/AddForm&gt;</code></div><a href="#top">Back to top</a></body>
</html>